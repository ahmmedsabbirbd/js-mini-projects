<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css">

	<style type="text/css">
	 
		.cosutom-slick .inner {
		  width: 100%;
		  display: flex;
		  color: white;
		  } 

		.cosutom-slick {
			width: 100%;
			overflow: hidden;
		} 



		.item img{
			width: 500px;
			height: 300px;
			object-fit: cover;
			margin-right: 10px;
		}

		.slick:hover .slick-track {
			transition: 0s !important;
		}
	</style>
</head>
<body> 

	<!-- <div class="slick cosutom-slick">
			<div class="item">
				<img src="project/1.jpg">
			</div>
			<div class="item">
				<img src="project/2.jpg">
			</div>
			<div class="item">
				<img src="project/3.jpg">
			</div>
			<div class="item">
				<img src="project/4.jpg">
			</div>
	</div> -->

	<div class="slick cosutom-slick">
		<div class="inner">
			<div class="item">
				<img src="project/1.jpg">
			</div>
			<div class="item">
				<img src="project/2.jpg">
			</div>
			<div class="item">
				<img src="project/3.jpg">
			</div>
			<div class="item">
				<img src="project/4.jpg">
			</div>
		</div>
	</div>





	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
	<script>


	// 	$('.inner').slick({
	// 	rtl: false,
	// 	rtl: false,
	// 	arrows: false,
	// 	infinite: true,
	// 	slidesToShow: 1,
	// 	initialSlide: 0,
	// 	autoplaySpeed: 0,
	// 	cssEase: 'linear',
	// 	slidesToScroll: 1,
	// 	swipeToSlide: true,
	// 	variableWidth: true, 
	// });




		function handleMarquee(){
		  const cosutomSlick = document.querySelectorAll('.cosutom-slick');


		  let speed = 4;
		  let lastScrollPos = 0;
		  let timer;

		  console.log(cosutomSlick);

		  cosutomSlick.forEach(function(el){
		    // stop animation on mouseenter
		    mouseEntered = false;

		    document.querySelector('.cosutom-slick').addEventListener('mouseover', ()=>{
		      mouseEntered = true;
		    })
		    document.querySelector('.cosutom-slick').addEventListener('mouseleave', ()=>{
		      mouseEntered = false
		    })



		    const container = el.querySelector('.inner');
		    const content = el.querySelector('.inner > *');
		    //Get total width
		    const  elWidth = content.offsetWidth;

		    console.log(elWidth);
		    
		    //Duplicate content
		    let clone = content.cloneNode(true);
		    container.appendChild(clone);

		    
		    let progress = 1;
		    function loop(){

		      if (mouseEntered === false) {
		      	progress = progress-speed;
		      } 
		      console.log(progress);

		      if (progress <= elWidth*-1) {
		      	progress=0;
		      }
		    console.log(elWidth);
		      
		      // console.log(progress);

		      container.style.transform = 'translateX(' + progress + 'px)';
		      window.requestAnimationFrame(loop);
		    }
		    loop();
		  });
		  
		  function handleSpeedClear(){
		    speed = 4;
		  }
		};

	handleMarquee();


	</script>
</body>
</html>

